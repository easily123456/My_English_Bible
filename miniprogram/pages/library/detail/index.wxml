<!-- pages/library/detail.wxml -->
<view class="container">
  <!-- 顶部导航栏：左（开始复习）- 中（标题）- 右（创建） -->
  <view class="header">
    <!-- 开始复习按钮（仅非view类型显示） -->
    <button 
      class="review-btn header-btn" 
      bindtap="startReview"
      data-library-id="{{libraryId}}"
      data-library-type="{{libraryType}}"
      data-library-name="{{libraryName}}"
      wx:if="{{libraryType !== 'view'}}"
    >
      开始复习
    </button>
    
    <!-- 知识库标题（居中） -->
    <view class="library-title">{{libraryName}}</view>
    
    <!-- 在本库创建按钮（始终显示） -->
    <button class="create-btn header-btn" bindtap="goToCreate">
      在本库创建
    </button>
  </view>

  <!-- 知识点列表 -->
  <view class="item-list" wx:if="{{itemList.length > 0}}">
    <view class="item-card" wx:for="{{itemList}}" wx:key="_id" bindtap="goToItemDetail" data-id="{{item._id}}">
      <!-- 英文 -->
      <view class="item-en">{{item.en}}</view>
      
      <!-- 词性-释义 -->
      <view class="pos-zh-item">
        <text class="pos">{{item.pos}}</text>
        <text class="zh"> {{item.zh}}</text>
      </view>
      
      <!-- 例句（有则显示） -->
      <view class="item-example" wx:if="{{item.example}}">
        例句：{{item.example}}
      </view>
    </view>
  </view>
  
  <!-- 空数据提示 -->
  <view class="empty-tip" wx:else>
    <text>该知识库暂无知识点，快去创建吧～</text>
    <button class="create-btn full-width" bindtap="goToCreate">创建知识点</button>
  </view>
</view>