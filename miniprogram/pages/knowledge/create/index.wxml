<!-- pages/knowledge/create.wxml -->
<view class="container">
  <!-- 页面标题 -->
  <view class="page-title">创建新知识点</view>

  <!-- 英文输入 -->
  <view class="form-item">
    <label class="form-label">英文</label>
    <input 
      class="form-input" 
      placeholder="请输入英文（如 apple）" 
      bindinput="onEnInput"
      value="{{enContent}}"
    />
  </view>

  <!-- 简化：单组词性+释义（移除列表/添加/删除按钮） -->
  <view class="form-item">
    <label class="form-label">词性</label>
    <input 
      class="form-input" 
      placeholder="词性（如 n.）" 
      bindinput="onPosInput"
      value="{{posContent}}"
    />
  </view>
  <view class="form-item">
    <label class="form-label">释义</label>
    <input 
      class="form-input" 
      placeholder="对应中文释义" 
      bindinput="onZhInput"
      value="{{zhContent}}"
    />
  </view>

  <!-- 例句（保留） -->
  <view class="form-item">
    <label class="form-label">例句（可选）</label>
    <textarea 
      class="form-textarea" 
      placeholder="请输入例句（如 I have an apple.）" 
      bindinput="onExampleInput"
      value="{{exampleContent}}"
    />
  </view>

  <!-- 知识库归属（改为单选） -->
  <view class="form-item">
    <label class="form-label">归属知识库</label>
    <radio-group 
      class="library-radio-group" 
      bindchange="handleLibrarySelect" 
    >
      <label class="radio-item" wx:for="{{libraryList}}" wx:key="_id">
        <radio value="{{item._id}}" checked="{{selectedLibraryId === item._id}}" />
        <text class="radio-text">{{item.name}}</text>
      </label>
    </radio-group>
  </view>

<!-- 二级小组选择（仅当选择第4-6个知识库时显示） -->
<view class="form-item" wx:if="{{showGroupSelect}}">
  <label class="form-label">选择小组</label>
  <radio-group class="group-radio-group" bindchange="handleGroupSelect">
    <view class="group-select-container">
      <view class="group-list">
        <label class="radio-item" wx:for="{{groupList}}" wx:key="_id">
          <radio value="{{item._id}}" checked="{{selectedGroupId === item._id}}" />
          <text class="radio-text">{{item.name}}</text>
        </label>
      </view>
      <button class="create-group-btn" bindtap="showCreateGroupDialog">创建新小组</button>
    </view>
  </radio-group>
</view>


  <!-- 提交按钮 -->
  <button 
    class="submit-btn" 
    bindtap="onSubmit"
  >提交知识点</button>
</view>