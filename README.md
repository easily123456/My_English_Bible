# 我的英语宝典

一个基于微信云开发的轻量化英语学习小程序，专注于单词记忆、知识点管理和作文模板功能，为中高级英语学习者提供高效、个性化的学习体验。

## 项目简介

"我的英语宝典"是一款专为学生和中高级英语学习者设计的学习工具，采用微信云开发技术，实现了轻量化、低成本的英语学习解决方案。项目以知识库管理、知识点学习、复习系统和作文模板为核心功能，帮助用户高效备考各类英语考试。

## 核心功能与主要特性

### 核心功能
1. **知识库管理**：创建、管理多个知识库，按学习场景分类组织知识点
2. **知识点创建**：添加单词、短语、释义和例句，支持批量管理
3. **智能复习系统**：基于上次复习时间和熟练度算法，自动生成复习列表
   - 复习算法：根据上次复习时间挑选前25个，再根据熟练度挑选前5个，共同组成30个单词；若知识库不足30个则全部组成复习列表
   - 复习模式：支持单点、组合、混淆组复习
4. **作文模板管理**：创建、编辑、查看作文模板，支持中英文对照
5. **个人中心**：用户信息展示、学习统计、设置等功能

### 主要特性
- **AI 辅助**：计划引入AI朗读与AI翻译功能
- **轻量化设计**：天然适配微信生态，资源按需付费成本可控
- **原生样式优化**：未引入第三方UI框架，但做了原生样式封装优化
- **数据结构优化**：扁平化设计，避免嵌套过深；业务字段索引优化

## 目标用户群体

1. **学生**：适用于各类英语考试备考
2. **中高级学习者**：满足有一定英语基础的学习者需求
3. **考试备考**：针对四六级、考研等考试场景优化

## 技术栈选型及架构说明

### 技术栈
- **前端**：微信小程序原生开发
- **后端**：微信云开发（数据库、云函数）
- **开发工具**：微信开发者工具

### 架构说明
1. **轻量化开发**：天然适配微信生态，资源按需付费成本可控
2. **未引入第三方UI框架**：项目做了原生样式封装优化
3. **数据结构优化**：
   - 扁平化设计，避免嵌套过深
   - 索引设计：业务字段索引优化

### 数据模型
- **knowledge_items**：知识点表（英文、词性、释义、例句）
- **libraries**：知识库表（知识库名称、类型）
- **item_set_relations**：关联表（知识点与知识库的关联）
- **groups**：小组表（知识库下的小组分类）
- **essay_templates**：作文模板表（标题、说明、英文内容、中文翻译）

## 安装与配置步骤

### 1. 环境配置
1. 打开微信开发者工具，进入项目后点击左侧「云开发」按钮
2. 在云开发控制台顶部导航栏，复制「环境 ID」（环境名称旁的唯一标识）
3. 在小程序项目的 `app.js` 中，通过 `wx.cloud.init({ env: '复制的环境ID' })` 配置即可

### 2. 环境变量与密钥
无需配置其他环境变量 / 密钥。微信云开发的鉴权、接口调用等均由平台自动处理，仅需配置上述环境 ID 即可。

### 3. 开发工具与版本要求
- **开发工具**：微信开发者工具（官方最新稳定版）
- **版本要求**：基础库版本 ≥ 2.10.0（微信开发者工具可在「详情 - 本地设置」中指定，兼容主流小程序运行环境）

## 基本使用方法

### 1. 知识库 / 单词学习模块
1. 进入知识库列表 → 选择 / 创建知识库
2. 新增知识点（单词 / 短语 + 释义）
3. 点击 "开始复习" → 完成知识点记忆 / 混淆词练习

### 2. 作文模板模块
1. 进入作文模板列表 → 新建模板（填写标题 / 说明 / 英文内容 / 中文翻译）
2. 查看模板详情 → 编辑 / 修改模板内容

### 3. 复习功能使用方法
1. 进入指定知识库页面，点击顶部 "开始复习" 按钮
2. 按页面提示完成知识点记忆（如单词拼写、释义匹配）
3. 复习完成后可查看错题 / 未掌握知识点，针对性巩固

### 4. 注意事项
- 需确保知识库内有知识点数据，无数据时无法启动复习

### 5. 高级使用技巧与最佳实践

#### 高级使用技巧
- **知识库管理**：按学习场景（如 "四六级""考研"）分类创建知识库，便于针对性复习
- **作文模板复用**：创建通用模板（如开头 / 结尾模板），编辑时基于已有模板修改，减少重复输入

#### 最佳实践
- **知识点命名 / 模板标题**：使用清晰关键词（如 "四六级高频词 - abandon"），便于快速检索
- **复习策略**：复习时优先攻克标记的混淆词，提升记忆效率
- **作文模板排版**：中英文内容对应排版（换行 / 分段一致），便于对照学习

## 常见问题解决方案

### 1. 开发过程中常见的错误和问题

#### 核心常见问题
1. **云开发相关**：环境ID配置错误导致数据库查询失败、云函数部署失败（代码语法错误/依赖缺失）、权限不足（未开启云开发/环境未激活）
2. **数据操作**：查询空数据（`_id`传错/集合名拼写错误）、提交表单时必填项为空触发验证报错、`update`操作无匹配文档（模板ID无效）
3. **样式/布局**：CSS变量未生效（未在`app.wxss`定义/引用错误）、卡片宽度不一致（间距/内边距未统一）、按钮点击态无响应（样式覆盖/事件绑定错误）
4. **逻辑交互**：下拉刷新未停止（未调用`wx.stopPullDownRefresh()`）、页面跳转参数丢失（`options.id`未校验）、重复提交表单（无状态锁）

### 2. 云开发环境配置失败的解决方案

#### 分步解决方案
1. **校验环境ID**：确认`app.js`中`wx.cloud.init({ env: 'xxx' })`的`env`值与云开发控制台的「环境ID」完全一致（区分大小写）
2. **激活云环境**：登录微信公众平台确认云开发已开通，且环境处于"正常"状态（未过期/未禁用）
3. **工具配置检查**：微信开发者工具中，「详情-本地设置」勾选"使用云开发"，并确认项目`project.config.json`中`cloudfunctionRoot`指向云函数目录
4. **重新初始化**：删除`app.js`中云初始化缓存，重启开发者工具，重新部署云函数（右键云函数目录选择"上传并部署"）
5. **权限排查**：确认开发者账号为云开发环境的"管理员/开发者"，无权限时联系环境创建者添加

### 3. 知识点同步或复习数据丢失的处理方案

#### 解决方案
1. **知识点同步失败**：
   - 检查网络：确保小程序网络正常，弱网环境下数据提交会中断，建议在网络稳定时操作
   - 校验写入逻辑：确认`add()`/`update()`操作有错误捕获，失败时弹出提示（如"同步失败，请重试"），并重新执行写入
   - 云端数据校验：在云开发控制台查看`libraries`集合，确认数据是否已写入，未写入则重新提交

2. **复习数据丢失**：
   - 数据存储优化：将复习进度/错题数据同时存储到云数据库（如新增`review_progress`集合），而非仅本地存储
   - 恢复机制：打开页面时优先从云端拉取复习数据，本地数据为空时同步云端数据
   - 防丢失设计：复习操作每完成一题自动保存进度，退出页面时触发数据同步，避免手动保存遗漏

#### 预防措施
- 关键数据（知识点/复习进度）写入时增加"提交成功"提示，未提示则视为同步失败

## 贡献指南

本项目暂不支持外部贡献。

## 许可证信息

### 开源许可证
本项目采用 **MIT 开源许可证**（MIT License），这是目前开源领域最宽松、使用最广泛的许可证之一，适配个人/小团队开发的轻量化学习类小程序场景。

### 许可证条款说明

#### 允许的行为
- 可自由使用、复制、修改、合并、发布、分发、再授权、销售本项目的源代码/编译产物
- 可将项目用于商业/非商业场景（如二次开发后上线运营、教学演示等）
- 无需向原作者报备修改/使用行为，也无需开源修改后的衍生代码（但建议保持开源）

#### 必须遵守的要求
- 任何包含/衍生自本项目的作品，必须保留原始的MIT许可证声明和版权信息（需标注原作者/项目来源）
- 许可证条款需随衍生作品一并分发，不得删减核心条款

#### 免责声明（核心重点）
- 原作者对本项目不承担任何担保责任，项目按"现状"提供，因使用本项目导致的任何损失（如数据丢失、业务故障），原作者无需承担责任
- 衍生作品的责任由修改/使用者自行承担，与原项目无关

#### 补充说明（适配小程序场景）
- 若基于本项目开发的小程序上线运营，需遵守微信小程序平台的运营规范，MIT许可证仅覆盖代码层面的授权，不豁免平台规则
- 项目中涉及的微信云开发相关功能，需遵守微信云开发的服务条款，MIT许可证不涵盖第三方平台的使用规则

## 其他补充说明

### 1. 外部依赖
本项目不依赖任何第三方 API、外部服务器或付费接口：
- **后端**：仅使用微信云开发（数据库、云函数）
- **前端**：仅使用微信小程序原生能力
- 无网络 API 请求、无第三方登录、无支付、无其他云服务

### 2. 未来发展规划
项目以轻量化英语学习工具为核心方向，未来规划：
- 优化现有复习逻辑，增加记忆曲线、错题本功能
- 完善作文模板模块，支持标签、分类、搜索
- 提升界面交互体验，统一样式规范
- 引入AI朗读与AI翻译功能
- 不做复杂后端，保持轻量、简洁、易部署

### 3. 已知限制
有以下已知限制，均不影响正常使用：
- 暂无数据分页，适合个人 / 小容量数据使用
- 暂无用户登录体系，依赖微信原生 openid
- 部分页面样式仍在统一优化中
- 无数据自动备份，需手动在云开发控制台导出

## 参考文档

- [微信云开发文档](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/basis/getting-started.html)
- [微信小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
